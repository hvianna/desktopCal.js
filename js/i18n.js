/**
 * i18n functions and global variables
 */

// current language and country
let lang, country, region;

// countries and regions for holiday selection list
const countries = {
	ar: { name: 'Argentina' },
	au: {
		name: 'Australia',
		regions: {
			act: { name: 'Australian Capital Territory' },
			nsw: { name: 'New South Wales' },
			nt:  { name: 'Northern Territory' },
			qld: { name: 'Queensland' },
			sa:  { name: 'South Australia' },
			tas: { name: 'Tasmania' },
			vic: { name: 'Victoria' },
			wa:  { name: 'Western Australia' }
		}
	},
	br: {
		name: 'Brasil',
		regions: {
			ac: { name: 'Acre' },
			al: { name: 'Alagoas' },
			ap: { name: 'Amapá' },
			am: { name: 'Amazonas' },
			ba: { name: 'Bahia' },
			ce: { name: 'Ceará' },
			df: { name: 'Distrito Federal' },
			es: { name: 'Espírito Santo' },
			go: { name: 'Goiás' },
			ma: { name: 'Maranhão' },
			mt: { name: 'Mato Grosso' },
			ms: { name: 'Mato Grosso do Sul' },
			mg: { name: 'Minas Gerais' },
			pa: { name: 'Pará' },
			pb: { name: 'Paraíba' },
			pr: { name: 'Paraná' },
			pe: { name: 'Pernambuco' },
			pi: { name: 'Piauí' },
			rj: { name: 'Rio de Janeiro' },
			rn: { name: 'Rio Grande do Norte' },
			rs: { name: 'Rio Grande do Sul' },
			ro: { name: 'Rondônia' },
			rr: { name: 'Roraima' },
			sc: { name: 'Santa Catarina' },
			sp: { name: 'São Paulo' },
			se: { name: 'Sergipe' },
			to: { name: 'Tocantins' }
		}
	},
	ca: { name: 'Canada' },
	de: { name: 'Deutschland' },
	es: { name: 'España' },
	hu: { name: 'Magyarország' },
	fr: { name: 'France' },
	mx: { name: 'Mexico' },
	pt: { name: 'Portugal' },
	uk: { name: 'United Kingdom' },
	us: { name: 'United States' },
	uy: { name: 'Uruguay' }
}

// translations of messages
const msg = {
	en: {
		langName:   'English',
		defCountry: 'us',
		monthNames: [ 'Month', 'January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December' ],
		weekDays:   [ 'Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat' ],
		weekStart:  'Week starts on',
		sunday:     'Sunday',
		monday:     'Monday',
		year:       'Year',
		month:      'Month',
		day:        'Day',
		credits:    'Created with <strong>desktopCal.js</strong>',
		creditTitle:'Credits',
		creditDescr:'You can customize this line to include your photo credits, for example.',
		front:      'Side 1',
		back:       'Side 2',
		design:     'Choose your layout',
		edit:       'Select the image, month and year',
		language:   'Language',
		layout:     'Layout',
		desktopCal: 'Desktop calendar',
		wallSingle: 'Wall calendar',
		digitalBg:  'Digital wallpaper',
		screenConf: 'Screen configuration',
		screenRes:  'Screen resolution',
		chgOrient:  'Change orientation',
		calStyle:   'Calendar style',
		small:      'Small block',
		medium:     'Medium block',
		large:      'Large block',
		column:     'Vertical bar',
		row:        'Horizontal bar',
		calSettings: 'Calendar settings',
		modern:     'Modern',
		classic:    'Classic',
		showHolidays: 'Show holiday descriptions',
		yes:        'Yes',
		no:         'No',
		horAlign:   'Horizontal alignment',
		verAlign:   'Vertical alignment',
		left:       'Left',
		horCenter:  'Center',
		right:      'Right',
		top:        'Top',
		verCenter:  'Center',
		bottom:     'Bottom',
		width:      'Width',
		height:     'Height',
		pixels:     'pixels',
		rotateR:    'Rotate clockwise',
		rotateL:    'Rotate counterclockwise',
		flipH:      'Flip horizontal',
		flipV:      'Flip vertical',
		reset:      'Reset',
		colors:     'Colors',
		colorPresets: 'Color schemes',
		saveColors: 'Save to a new color scheme',
		deletePreset: 'Do you really want to delete this custom color scheme?\nTHIS ACTION CANNOT BE UNDONE!',
		bgColor:    'Background color',
		bgOpacity:  'Background opacity',
		textColor:  'Text color',
		holidayColor:'Holidays color',
		loadImage:  'Load Image',
		holidays:   'Holidays',
		countryHolidays: 'National holidays',
		customHolidays: 'Custom holidays',
		description: 'Description',
		none:       'None',
		add:        'Add',
		delete:     'Delete',
		load:       'Load',
		imgNotice:  'Images are NOT uploaded anywhere outside your computer. All processing takes place in your browser.',
		printIt:    'Print It!',
		paperSize:  'Paper size / aspect ratio:',
		paperIso:   'A3 or A4',
		paperLegal: 'Legal',
		paperLetter:'Letter',
		paperTabloid:'Tabloid',
		print:      'Generate & Print',
		tipBgImg:   'Configure your printer to print <strong>background images;</strong>',
		tipPortrait:'Set page orientation to <strong>Portrait;</strong>',
		tipMargins: 'Set the minimum margins allowed;',
		tipHeaders: 'Turn off all headers and footers.',
		downloadIt: 'Download your wallpaper',
		download:   'Download',
		fileFormat: 'File format',
		loading:    'Loading, please wait...',
		loadingTip: 'If this takes too long, try loading another image.',
		preview:    'Preview:',
		fold:       'fold on the dashed lines',
	},

	es: {
		langName:   'Español',
		defCountry: 'us',
		monthNames: [ 'Mes', 'Enero', 'Febrero', 'Marzo', 'Abril', 'Mayo', 'Junio', 'Julio', 'Agosto', 'Septiembre', 'Octubre', 'Noviembre', 'Diciembre' ],
		weekDays:   [ 'Dom', 'Lun', 'Mar', 'Mié', 'Jue', 'Vie', 'Sáb' ],
		weekStart:  'Semana comienza el',
		sunday:     'Domingo',
		monday:     'Lunes',
		year:       'Año',
		month:      'Mes',
		day:        'Día',
		credits:    'Creado con <strong>desktopCal.js</strong>',
		creditTitle:'Créditos',
		creditDescr:'Puede personalizar esta línea para incluir sus créditos fotográficos, por ejemplo.',
		front:      'Lado 1',
		back:       'Lado 2',
		design:     'Elige tu diseño',
		edit:       'Seleccione la imagen, mes y año',
		language:   'Idioma',
		layout:     'Layout',
		desktopCal: 'Calendario de escritorio',
		wallSingle: 'Calendario de pared',
		digitalBg:  'Fondo de pantalla',
		screenConf: 'Configuración de pantalla',
		screenRes:  'Resolución de la pantalla',
		chgOrient:  'Cambiar orientación',
		calStyle:   'Estilo de calendario',
		small:      'Bloque pequeño',
		medium:     'Bloque mediano',
		large:      'Bloque grande',
		column:     'Barra vertical',
		row:        'Barra horizontal',
		calSettings: 'Configuraciones de calendario',
		modern:     'Moderno',
		classic:    'Clásico',
		showHolidays: 'Mostrar descripciones de feriados',
		yes:        'Si',
		no:         'No',
		horAlign:   'Alineación horizontal',
		verAlign:   'Alineación vertical',
		left:       'Izquierda',
		horCenter:  'Centrado',
		right:      'Derecha',
		top:        'Superior',
		verCenter:  'Centrado',
		bottom:     'Inferior',
		width:      'Anchura',
		height:     'Altura',
		pixels:     'píxeles',
		rotateR:    'Girar derecha',
		rotateL:    'Girar izquierda',
		flipH:      'Invertir horizontalmente',
		flipV:      'Invertir verticalmente',
		reset:      'Reiniciar',
		colors:     'Colores',
		colorPresets: 'Esquemas de color',
		saveColors: 'Guardar en un nuevo esquema de color',
		deletePreset: '¿Desea realmente borrar este esquema de color personalizado?\n¡ESTA ACCIÓN NO SE PUEDE DESHACER!',
		bgColor:    'Color de fondo',
		bgOpacity:  'Opacidad del fondo',
		textColor:  'Color de texto',
		holidayColor:'Color de feriados',
		loadImage:  'Cargar Imagen',
		holidays:   'Feriados',
		countryHolidays: 'Feriados nacionales',
		customHolidays: 'Feriados personalizados',
		description: 'Descripción',
		none:       'Ninguno',
		add:        'Añadir',
		delete:     'Borrar',
		load:       'Cargar',
		imgNotice:  'Las imágenes NO se envían fuera de su computadora. Todo el procesamiento se lleva a cabo en su navegador.',
		printIt:    '¡Imprímelo!',
		paperSize:  'Tamaño de papel:',
		paperIso:   'A3 o A4',
		paperLegal: 'Legal',
		paperLetter:'Carta',
		paperTabloid:'Tabloide',
		print:      'Generar e imprimir',
		tipBgImg:   'Configure su impresora para imprimir <strong>imágenes de fondo;</strong>',
		tipPortrait:'Establezca la orientación de la página en <strong>Retrato;</strong>',
		tipMargins: 'Ajuste los márgenes para los valores más bajos permitidos;',
		tipHeaders: 'Desactive todos los encabezados y pies de página.',
		downloadIt: 'Descarga tu fondo de pantalla',
		download:   'Descargar',
		fileFormat: 'Formato',
		loading:    'Cargando, por favor espere...',
		loadingTip: 'Si esto lleva demasiado tiempo, intente cargar otra imagen.',
		preview:    'Vista previa:',
		fold:       'doblar en las líneas punteadas',
	},

	de: {
		langName:   'Deutsch',
		defCountry: 'de',
		monthNames: [ 'Monat', 'Januar', 'Februar', 'März', 'April', 'Mai', 'Juni', 'Juli', 'August', 'September', 'Oktober', 'November', 'Dezember' ],
		weekDays:   [ 'So', 'Mo', 'Di', 'Mi', 'Do', 'Fr', 'Sa' ],
		weekStart:  'Woche beginnt am',
		sunday:     'Sonntag',
		monday:     'Montag',
		year:       'Jahr',
		month:      'Monat',
		day:        'Tag',
		credits:    'Erstellt mit <strong>desktopCal.js</strong>',
		creditTitle:'Bildnachweis',
		creditDescr:'Sie können diese Zeile anpassen, um beispielsweise Bildnachweise für die verwendeten Bilder zu hinterlegen.',
		front:      'Seite 1',
		back:       'Seite 2',
		design:     'Wählen Sie Ihr Layout',
		edit:       'Wählen Sie Bild, Monat und Jahr',
		language:   'Sprache',
		layout:     'Layout',
		desktopCal: 'Tischkalender',
		wallSingle: 'Wandkalender',
		digitalBg:  'Digitales Hintergrundbild',
		screenConf: 'Monitor-Einstellungen',
		screenRes:  'Monitorauflösung',
		chgOrient:  'Ausrichtung ändern',
		calStyle:   'Kalenderstil',
		small:      'Kleiner Kasten',
		medium:     'Mittlerer Kasten',
		large:      'Großer Kasten',
		column:     'Vertikale Leiste',
		row:        'Horizontale Leiste',
		calSettings: 'Kalendereinstellungen',
		modern:     'Modern',
		classic:    'Klassisch',
		showHolidays: 'Ferien und Feiertage anzeigen',
		yes:        'Ja',
		no:         'Nein',
		horAlign:   'Horizontale Ausrichtung',
		verAlign:   'Vertikale Ausrichtung',
		left:       'Links',
		horCenter:  'Mitte',
		right:      'Rechts',
		top:        'Oben',
		verCenter:  'Mitte',
		bottom:     'Unten',
		width:      'Breite',
		height:     'Höhe',
		pixels:     'Pixel',
		rotateR:    'Im Uhrzeigersinn drehen',
		rotateL:    'Gegen den Uhrzeigersinn drehen',
		flipH:      'Horizontal spiegeln',
		flipV:      'Vertikal spiegeln',
		reset:      'Zurücksetzen',
		colors:     'Farben',
		colorPresets: 'Farbschemata',
		saveColors: 'Als neues Farbschema speichern',
		deletePreset: 'Möchten Sie wirklich dieses eigene Farbschema löschen?\nDIES KANN NICHT RÜCKGÄNGIG GEMACHT WERDEN!',
		bgColor:    'Hintergrundfarbe',
		bgOpacity:  'Hintergrunddeckkraft',
		textColor:  'Textfarbe',
		holidayColor:'Ferien-Farbe',
		loadImage:  'Bild laden',
		holidays:   'Ferien/Feiertage',
		countryHolidays: 'Nationale Ferien/Feiertage',
		customHolidays: 'Eigene Ferien/Feiertage',
		description: 'Beschreibung',
		none:       'Keine',
		add:        'Hinzufügen',
		delete:     'Löschen',
		load:       'Laden',
		imgNotice:  'Bilder werden NICHT außerhalb Ihres Computers hochgeladen. Jegliche Bearbeitung findet in Ihrem Browser statt.',
		printIt:    'Drucken',
		paperSize:  'Papiergröße / Setitenverhältnis',
		paperIso:   'A3 oder A4',
		paperLegal: 'Legal',
		paperLetter:'Letter',
		paperTabloid:'Tabloid',
		print:      'Generieren & Drucken',
		tipBgImg:   'Konfigurieren Sie Ihren drucker <strong>Hintergrundbilder</strong> zu drucken',
		tipPortrait:'Stellen Sie die Ausrichtung auf <strong>Hochformat</strong>',
		tipMargins: 'Stellen Sie die Ränder so klein wie möglich',
		tipHeaders: 'Deaktivieren Sie jegliche Kopf- und Fußzeilen',
		downloadIt: 'Hintergrundbild herunterladen',
		download:   'Herunterladen',
		fileFormat: 'Dateiformat',
		loading:    'Laden, bitte warten...',
		loadingTip: 'Falls ies zu lange dauert, versuchen Sie es bitte mit einem anderen Bild.',
		preview:    'Vorschau:',
		fold:       'an den gestrichelten Linien falten',
	},

	fr: {
		langName:   'Français',
		defCountry: 'fr',
		monthNames: [ 'Mois', 'Janvier', 'Février', 'Mars', 'Avril', 'Mai', 'Juin', 'Juillet', 'Août', 'Septembre', 'Octobre', 'Novembre', 'Décembre' ],
		weekDays:   [ 'Dim', 'Lun', 'Mar', 'Mer', 'Jeu', 'Ven', 'Sam' ],
		weekStart:  'Semaine commence le',
		sunday:     'Dimanche',
		monday:     'Lundi',
		year:       'Année',
		month:      'Mois',
		day:        'Jour',
		credits:    'Créé avec <strong>desktopCal.js</strong>',
		creditTitle:'Crédits',
		creditDescr:'Vous pouvez personnaliser cette ligne pour inclure vos crédits photo, par exemple.',
		front:      'Côté 1',
		back:       'Côté 2',
		design:     'Choisissez votre design',
		edit:       'Sélectionnez l\'image, le mois et l\'année',
		language:   'Langue',
		layout:     'Layout',
		desktopCal: 'Calendrier de bureau',
		wallSingle: 'Calendrier mural',
		digitalBg:  'Fond d\'écran',
		screenConf: 'Configuration de l\'écran',
		screenRes:  'Résolution d\'écran',
		chgOrient:  'Changer d\'orientation',
		calStyle:   'Style de calendrier',
		small:      'Petit bloc',
		medium:     'Bloc moyen',
		large:      'Gros bloc',
		column:     'Barre verticale',
		row:        'Barre Horizontale',
		calSettings: 'Paramètres de calendrier',
		modern:     'Moderne',
		classic:    'Classique',
		showHolidays: 'Afficher les descriptions de fériés',
		yes:        'Oui',
		no:         'Non',
		horAlign:   'Alignement horizontale',
		verAlign:   'Alignement verticale',
		left:       'Gauche',
		horCenter:  'Centré',
		right:      'Droit',
		top:        'Haut',
		verCenter:  'Centré',
		bottom:     'Bas',
		width:      'Largeur',
		height:     'Hauteur',
		pixels:     'pixels',
		rotateR:    'Tourner à droite',
		rotateL:    'Tourner à gauche',
		flipH:      'Retourner horizontalement',
		flipV:      'Retourner verticalement',
		reset:      'Réinitialiser',
		colors:     'Couleurs',
		colorPresets: 'Jeux de couleurs',
		saveColors: 'Enregistrer dans un nouveau jeu de couleurs',
		deletePreset: 'Voulez-vous vraiment supprimer ce jeu de couleurs personnalisé?\nCETTE ACTION NE PEUT PAS ÊTRE ANNULÉE!',
		bgColor:    'Couleur du fond',
		bgOpacity:  'Opacité du fond',
		textColor:  'Couleur du texte',
		holidayColor:'Couleur de jours fériés',
		loadImage:  'Charger Image',
		holidays:   'Jours fériés',
		countryHolidays: 'Fêtes nationales',
		customHolidays: 'Jours fériés personnalisées',
		description: 'Description',
		none:       'Aucun',
		add:        'Ajouter',
		delete:     'Effacer',
		load:       'Charger',
		imgNotice:  'Les images NE sont PAS envoyées sur votre ordinateur. Tous les traitements ont lieu dans votre navigateur.',
		printIt:    'Imprime le!',
		paperSize:  'Format de papier:',
		paperIso:   'A3 ou A4',
		paperLegal: 'Légal',
		paperLetter:'Lettre',
		paperTabloid:'Tabloïde',
		print:      'Générer et imprimer',
		tipBgImg:   'Configurez votre imprimante pour imprimer des <strong>images d’arrière-plan;</strong>',
		tipPortrait:'Définissez l\'orientation de la page sur <strong>Portrait;</strong>',
		tipMargins: 'Ajuster les marges aux valeurs les plus basses autorisées;',
		tipHeaders: 'Désactiver tous les en-têtes et pieds de page.',
		downloadIt: 'Téléchargez votre fond d\'écran',
		download:   'Télécharger',
		fileFormat: 'Format',
		loading:    'Chargement, veuillez patienter...',
		loadingTip: 'Si cela prend trop de temps, essayez de charger une autre image.',
		preview:    'Aperçu:',
		fold:       'plier sur les lignes pointillées',
	},

	hu: {
		langName:   'Magyar',
		defCountry: 'hu',
		monthNames: [ 'Hónap', 'Január', 'Február', 'Március', 'Április', 'Május', 'Június', 'Július', 'Augusztus', 'Szeptember', 'Október', 'November', 'December' ],
		weekDays:   [ 'Vas', 'Hét', 'Ked', 'Sze', 'Csü', 'Pén', 'Szo' ],
		weekStart:  'A hét kezdőnapja',
		sunday:     'Vasárnap',
		monday:     'Hétfő',
		year:       'Év',
		month:      'Hónap',
		day:        'Nap',
		credits:    '<strong>desktopCal.js</strong> által',
		creditTitle:'Lábléc',
		creditDescr:'Testreszabható lábléc',
		front:      '1. oldal',
		back:       '2. oldal',
		design:     'Elrendezés kiválasztása',
		edit:       'Kép, hónap és év kiválasztása',
		language:   'Nyelv',
		layout:     'Elrendezés',
		desktopCal: 'Asztali naptár',
		wallSingle: 'Álló falinaptár',
		digitalBg:  'Digitális háttérkép',
		screenConf: 'Képernyő beállítás',
		screenRes:  'Képernyő felbontás',
		chgOrient:  'Orientáció váltás',
		calStyle:   'Naptár kinézet',
		small:      'Kis méretű naptár',
		medium:     'Közepes méretű naptár',
		large:      'Nagy méretű naptár',
		column:     'Függőleges oszlop',
		row:        'Vízszintes sor',
		calSettings: 'Naptár beállítás',
		modern:     'Modern',
		classic:    'Klasszikus',
		showHolidays: 'Ünnepek nevei',
		yes:        'Igen',
		no:         'Nem',
		horAlign:   'Vízszintes igazítás',
		verAlign:   'Függőleges igazítás',
		left:       'Bal',
		horCenter:  'Vízszintes-közép',
		right:      'Jobb',
		top:        'Fent',
		verCenter:  'Függőleges-közép',
		bottom:     'Lent',
		width:      'Szélesség',
		height:     'Magasság',
		pixels:     'pixel',
		rotateR:    'Óramutató járásával megegyező irányba forgat',
		rotateL:    'Óramutató járásával ellenkező irányba forgat',
		flipH:      'Vízszintesen tükröz',
		flipV:      'Függőlegesen tükröz',
		reset:      'Visszaállít',
		colors:     'Színek',
		colorPresets: 'Színösszeállítások',
		saveColors: 'Új színösszeállítást elment',
		deletePreset: 'Tényleg törölni szeretné az egyéni színsémát?\nEZ A MŰVELETET NEM VISSZAVONHATÓ!',
		bgColor:    'Háttérszín',
		bgOpacity:  'Háttér áttetszőség',
		textColor:  'Szövegszín',
		holidayColor:'Ünnepek színe',
		loadImage:  'Fénykép betöltése',
		holidays:   'Ünnepek',
		countryHolidays: 'Nemzeti ünnepek',
		customHolidays: 'Saját ünnepek',
		description: 'Leírás',
		none:       'Egyik sem',
		add:        'Hozzáad',
		delete:     'Töröl',
		load:       'Betölt',
		imgNotice:  'A képek NEM kerülnek feltöltésre, feldolgozás kizrólag a helyi böngészőben történik.',
		printIt:    'Nyomtatás',
		paperSize:  'Papírméret / méretarány:',
		paperIso:   'A3 vagy A4',
		paperLegal: 'Legal',
		paperLetter:'Letter',
		paperTabloid:'Tabloid',
		print:      'Előkészít és nyomtat',
		tipBgImg:   'Nyomtatási beállítások: <strong>nyomtassa a háttérgrafikát is</strong>;',
		tipPortrait:'oldal orientációja (<em>elrendezés</em>): <strong>álló</strong>;',
		tipMargins: 'nyomtatási margók: <strong>minimális</strong>;',
		tipHeaders: 'fejlécek és láblécek <strong>elrejtése</strong> a nyomtatóbeállítási panelen.',
		downloadIt: 'Háttérkép letöltése',
		download:   'Letöltés',
		fileFormat: 'Fájl formátum',
		loading:    'Betöltés...',
		loadingTip: 'Ha túl sokáig tart, próbáljon meg betölteni egy másik képet.',
		preview:    'Előnézet:',
		fold:       'behajtás a szaggatott vonalak mentén',
	},

	pt: {
		langName:   'Português',
		defCountry: 'br',
		monthNames: [ 'Mês', 'Janeiro', 'Fevereiro', 'Março', 'Abril', 'Maio', 'Junho', 'Julho', 'Agosto', 'Setembro', 'Outubro', 'Novembro', 'Dezembro' ],
		weekDays:   [ 'Dom', 'Seg', 'Ter', 'Qua', 'Qui', 'Sex', 'Sáb' ],
		weekStart:  'Semana começa em',
		sunday:     'Domingo',
		monday:     'Segunda',
		year:       'Ano',
		month:      'Mês',
		day:        'Dia',
		credits:    'Criado com <strong>desktopCal.js</strong>',
		creditTitle:'Créditos',
		creditDescr:'Você pode personalizar esta linha para incluir seus créditos fotográficos, por exemplo.',
		front:      'Lado 1',
		back:       'Lado 2',
		design:     'Escolha o layout',
		edit:       'Selecione a imagem, mês e ano',
		language:   'Idioma',
		layout:     'Layout',
		desktopCal: 'Calendário de mesa',
		wallSingle: 'Calendário de parede',
		digitalBg:  'Papel de parede digital',
		screenConf: 'Configuração da tela',
		screenRes:  'Resolução da tela',
		chgOrient:  'Alterar orientação',
		calStyle:   'Estilo de calendário',
		small:      'Quadro pequeno',
		medium:     'Quadro médio',
		large:      'Quadro grande',
		column:     'Barra vertical',
		row:        'Barra horizontal',
		calSettings: 'Configurações do calendário',
		modern:     'Moderno',
		classic:    'Clássico',
		showHolidays: 'Exibir descrições de feriados',
		yes:        'Sim',
		no:         'Não',
		horAlign:   'Alinhamento horizontal',
		verAlign:   'Alinhamento vertical',
		left:       'Esquerda',
		horCenter:  'Centro',
		right:      'Direita',
		top:        'Superior',
		verCenter:  'Centro',
		bottom:     'Inferior',
		width:      'Largura',
		height:     'Altura',
		colors:     'Cores',
		colorPresets: 'Esquemas de cores',
		saveColors: 'Salvar em um novo esquema de cores',
		deletePreset: 'Deseja realmente excluir este esquema de cores personalizado?\nESTA AÇÃO NÃO PODE SER DESFEITA!',
		bgColor:    'Cor de fundo',
		bgOpacity:  'Opacidade do fundo',
		textColor:  'Cor do texto',
		holidayColor:'Cor dos feriados',
		pixels:     'pixels',
		rotateR:    'Girar para direita',
		rotateL:    'Girar para esquerda',
		flipH:      'Inverter horizontalmente',
		flipV:      'Inverter verticalmente',
		reset:      'Redefinir',
		loadImage:  'Carregar Imagem',
		holidays:   'Feriados',
		countryHolidays: 'Feriados nacionais',
		customHolidays: 'Feriados personalizados',
		description: 'Descrição',
		none:       'Nenhum',
		add:        'Adicionar',
		delete:     'Excluir',
		load:       'Carregar',
		imgNotice:  'As imagens NÃO são enviadas para fora de seu computador. Todo o processamento ocorre no seu navegador.',
		printIt:    'Imprima',
		paperSize:  'Formato do papel:',
		paperIso:   'A3 ou A4',
		paperLegal: 'Ofício',
		paperLetter:'Carta',
		paperTabloid:'Ofício 2',
		print:      'Gerar e Imprimir',
		tipBgImg:   'Configure sua impressora para imprimir <strong>imagens de fundo;</strong>',
		tipPortrait:'Ajuste a orientação da página para <strong>Retrato;</strong>',
		tipMargins: 'Ajuste as margens para os menores valores permitidos;',
		tipHeaders: 'Desative todos os cabeçalhos e rodapés.',
		downloadIt: 'Baixe seu papel de parede',
		download:   'Baixar',
		fileFormat: 'Formato',
		loading:    'Carregando, por favor aguarde...',
		loadingTip: 'Se demorar muito, experimente carregar outra imagem.',
		preview:    'Pré-visualização:',
		fold:       'dobre nas linhas tracejadas',
	},

	ru: {
		langName:   'Русский',
		defCountry: 'us',
		monthNames: [ 'Месяц', 'Январь', 'Февраль', 'Март', 'Апрель', 'Май', 'Июнь', 'Июль', 'Август', 'Сентябрь', 'Октябрь', 'Ноябрь', 'Декабрь' ],
		weekDays:   [ 'Вс', 'Пн', 'Вт', 'Ср', 'Чт', 'Пт', 'Сб' ],
		weekStart:  'Неделя начинается с',
		sunday:     'Воскресенья',
		monday:     'Понедельника',
		year:       'Год',
		month:      'Месяц',
		day:        'День',
		credits:    'Создано с <strong>desktopCal.js</strong>',
		creditTitle:'Уведомление',
		creditDescr:'Вы можете изменить эту строку, чтобы включить в нее информацию, например, об авторе фотографии.',
		front:      'Сторона 1',
		back:       'Сторона 2',
		design:     'Выберите макет календаря',
		edit:       'Выберите изображение, месяц и год',
		language:   'Язык',
		layout:     'Макет',
		desktopCal: 'Настольный календарь',
		wallSingle: 'Настенный календарь',
		digitalBg:  'Цифровые обои',
		screenConf: 'Конфигурация экрана',
		screenRes:  'Разрешение экрана',
		chgOrient:  'Изменить ориентацию',
		calStyle:   'Стиль календаря',
		small:      'Маленький блок',
		medium:     'Средний блок',
		large:      'Большой блок',
		column:     'Вертикальная полоса',
		row:        'Горизонтальная полоса',
		calSettings: 'Настройки календаря',
		modern:     'Современный',
		classic:    'Классический',
		showHolidays: 'Показывать описание праздников',
		yes:        'Да',
		no:         'Нет',
		horAlign:   'Выравнивание по горизонтали',
		verAlign:   'Выравнивание по вертикали',
		left:       'Влево',
		horCenter:  'По центру',
		right:      'Вправо',
		top:        'По верхнему краю',
		verCenter:  'По центру',
		bottom:     'По нижнему краю',
		width:      'Ширина',
		height:     'Высота',
		pixels:     'пикселей',
		rotateR:    'Повернуть по часовой стрелке',
		rotateL:    'Повернуть против часовой стрелки',
		flipH:      'Отразить по горизонтали',
		flipV:      'Отразить по вертикали',
		reset:      'Сбросить',
		colors:     'Цвета',
		colorPresets: 'Цветовые схемы',
		saveColors: 'Сохранить как новую цветовую схему',
		deletePreset: 'Вы действительно хотите удалить эту цветовую схему?\nЭТО ДЕЙСТВИЕ НЕЛЬЗЯ ОТМЕНИТЬ!',
		bgColor:    'Цвет фона',
		bgOpacity:  'Прозрачность фона',
		textColor:  'Цвет текста',
		holidayColor:'Цвет праздников',
		loadImage:  'Загрузить изображение',
		holidays:   'Праздники',
		countryHolidays: 'Национальные праздники',
		customHolidays: 'Свои праздники',
		description: 'Описание',
		none:       'Нет',
		add:        'Добавить',
		delete:     'Удалить',
		load:       'Загрузить',
		imgNotice:  'Изображения НЕ покидают ваш компьютер. Вся обработка происходит в вашем браузере.',
		printIt:    'Напечатать!',
		paperSize:  'Формат бумаги / соотношение сторон',
		paperIso:   'A3 или A4',
		paperLegal: 'Legal',
		paperLetter:'Letter',
		paperTabloid:'Tabloid',
		print:      'Сгенерировать и напечатать',
		tipBgImg:   'Включите печать <strong>фоновых изображений</strong> в настройках принтера;',
		tipPortrait:'Установите <strong>портретный</strong> режим печати;',
		tipMargins: 'Задайте минимальный возможный размер полей;',
		tipHeaders: 'Отключите верхний и нижний колонтитулы.',
		downloadIt: 'Скачать ваши обои',
		download:   'Скачать',
		fileFormat: 'Формат файла',
		loading:    'Загрузка, пожалуйста, подождите...',
		loadingTip: 'Если это занимает слишком много времени, попробуйте загрузить другое изображение.',
		preview:    'Предпросмотр:',
		fold:       'сложите по пунктирным линиям',
	}
}

function langOptions() {
	const keys = Object.keys( msg );

	let html = '';

	for ( let i = 0; i < keys.length; i++ )
		html += `<li><a href="javascript:changeLang('${ keys[ i ] }');" title="${ msg[ keys[ i ] ].langName }"><img src="img/icons8-${ keys[ i ] }-flag.png"></a></li>`;

	return html;
}

function monthOptions() {
	let html = '';

	for ( let i = 0; i < 13; i++ )
		html += `<option value="${ i }">${ msg[ lang ].monthNames[ i ] }</option>`;

	return html;
}

function countryOptions() {
	let html = `<option value="">${msg[lang].none}</option>`;

	for ( const [ key, { name, regions } ] of Object.entries( countries ) ) {
		if ( regions ) {
			html += `<optgroup label="${ name }">`;
		}
		html += `<option value="${ key }" ${ key == country && !region ? 'selected' : '' }>${ name }</option>`;
		if ( regions ) {
			for ( const [ regionKey, { name: regionName } ] of Object.entries( regions )) {
				html += `<option value="${ key }-${ regionKey }" ${ key == country && regionKey == region ? 'selected' : '' }>${ regionName }</option>`;
			}
			html += `</optgroup>`;
		}
	}

	return html;
}

function changeCountry( newValue ) {
	[ country, region ] = newValue.split('-');
	localStorage.setItem( 'country', country );
	if ( region )
		localStorage.setItem( 'region', region );
	else
		localStorage.removeItem( 'region' );
	updatePreview();
}

function changeLang( newLang ) {
	if ( ! Object.keys( msg ).includes( newLang ) ) // invalid language?
		return false;

	lang = newLang;
	localStorage.setItem( 'lang', lang );

	translatePage();
	updatePreview();
}

function translatePage() {
	let values = [];

	// save values from select elements
	document.querySelectorAll('select').forEach( ( el, i ) => values[ i ] = el.selectedIndex );

	// translate strings
	document.querySelectorAll('[data-i18n]').forEach( el => {
		let prop = 'innerHTML';
		let text = msg[ lang ][ el.dataset.i18n ];

		if ( el.tagName == 'INPUT' ) {
			prop = 'placeholder';
			text = text.replace( /<[^>]*>/g, '' );
		}
		else if ( el.classList.contains('action-button') )
			prop = 'title';
		el[ prop ] = text;
	});

	// call functions to populate specific elements
	document.querySelectorAll('[data-func]').forEach( el => el.innerHTML = window[ el.dataset.func ]() );

	// restore select elements
	document.querySelectorAll('select').forEach( ( el, i ) => {
		if ( values[ i ] >= 0 )
			el.selectedIndex = values[ i ]
	});
}
